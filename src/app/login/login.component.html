<!--
  ~    Copyright 2017 OICR
  ~
  ~    Licensed under the Apache License, Version 2.0 (the "License");
  ~    you may not use this file except in compliance with the License.
  ~    You may obtain a copy of the License at
  ~
  ~        http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~    Unless required by applicable law or agreed to in writing, software
  ~    distributed under the License is distributed on an "AS IS" BASIS,
  ~    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~    See the License for the specific language governing permissions and
  ~    limitations under the License.
  -->
<div id="container-header">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <h3 class="available-containers">Login to Collaboratory Dockstore</h3>
      </div>
    </div>
  </div>
</div>
<div class="text-center">
  <app-alert></app-alert>
</div>
<div class="container">
  <div class="row">
    <div fxLayout="row" fxLayoutAlign="center center" class="mt-5">
      <mat-card>
        <mat-tab-group layout-fill color="primary" mat-stretch-tabs fxFlex="400px" selectedIndex="{{ tabindex }}">
          <ng-template #PrivacyAndTOSDisclaimer>
            <a href="../assets/docs/Dockstore_Terms_of_Service.pdf" target="_blank" rel="noopener noreferrer">Terms of Service</a> and
            <a href="../assets/docs/Dockstore_Privacy Policy_v2.5.pdf" target="_blank" rel="noopener noreferrer">Privacy Policy</a>.
          </ng-template>
          <mat-tab isActive="true" label="Login">
            <mat-card>
              <p>Login to your existing Dockstore account with any third party application that has been previously linked.</p>
              <button
                class="w-100 my-1"
                color="accent"
                mat-raised-button
                matTooltip="Log in with GitHub account"
                (click)="loginWith('github')"
                [disabled]="loginDisabled"
                data-cy="login-with-github"
              >
                <fa-icon [icon]="faGithub"></fa-icon> Login with GitHub
              </button>
              <br />
              <button
                class="w-100 my-1"
                button
                color="accent"
                mat-raised-button
                matTooltip="Log in with Google account"
                (click)="loginWith('google')"
                [disabled]="loginDisabled"
                data-cy="login-with-google"
              >
                <fa-icon [icon]="faGoogle"></fa-icon> Login with Google
              </button>
              <mat-checkbox class="text-wrap" *ngIf="mustAcceptCurrentTOS" (change)="loginDisabled = !loginDisabled">
                You must accept Dockstore's current <template [ngTemplateOutlet]="PrivacyAndTOSDisclaimer"></template
              ></mat-checkbox>
            </mat-card>
          </mat-tab>
          <mat-tab label="Register">
            <mat-card>
              <p>Register a new Dockstore account with any third party application.</p>
              <button
                class="w-100 my-1"
                color="accent"
                mat-raised-button
                matTooltip="Register with GitHub account"
                (click)="registerWith('github')"
                [disabled]="registrationDisabled"
                data-cy="register-with-github"
              >
                <fa-icon [icon]="faGithub"></fa-icon> Register with GitHub
              </button>
              <br />
              <button
                class="w-100 my-1"
                button
                color="accent"
                mat-raised-button
                matTooltip="Register with Google account"
                (click)="registerWith('google')"
                [disabled]="registrationDisabled"
                data-cy="register-with-google"
              >
                <fa-icon [icon]="faGoogle"></fa-icon> Register with Google
              </button>
              <mat-checkbox class="text-wrap" (change)="registrationDisabled = !registrationDisabled"
                >I agree to the <template [ngTemplateOutlet]="PrivacyAndTOSDisclaimer"></template
              ></mat-checkbox>
              <!-- Attempt at using  -->
              <!-- <mat-icon svgIcon="google"></mat-icon> -->
              <!-- <a class="btn btn-block btn-social btn-real-google" matTooltip="Register with Google account" (click)="registerWith('google')">
                  <span class="google-logo "></span>Register with Google
              </a> -->
            </mat-card>
          </mat-tab>
        </mat-tab-group>
      </mat-card>
    </div>
  </div>
</div>
