<h1 mat-dialog-title>Select a Topic</h1>
<mat-dialog-content>
  <p>
    A topic is a short description of your {{ entryTypeMetadata.term }}. There are {{ isHostedEntry ? 'two' : 'three' }} types of topics
    that you can choose from:
  </p>
  <div fxLayout="column">
    <mat-radio-group
      [(ngModel)]="selectedOption"
      aria-label="Select an option"
      fxLayout="column"
      fxLayoutAlign="start stretch"
      fxLayoutGap="1rem"
    >
      <mat-card>
        <mat-radio-button [value]="TopicSelectionEnum.MANUAL" class="w-100">
          <div>
            <span class="bubble mr-2"><mat-icon class="mat-icon-sm">edit</mat-icon></span>
            <strong>Manual</strong>
          </div>
          <div class="size-small gray-caption">
            Entered manually by the user{{ isGitHubAppEntry ? ' in the .dockstore.yml file on GitHub' : '' }}.
          </div>
          <div
            *ngIf="isGitHubAppEntry"
            [class]="entry.topicManual ? '' : 'gray-caption'"
            matTooltip="Edit the manual topic for this {{ entryTypeMetadata.term }} in the .dockstore.yml file on GitHub"
          >
            {{ entry.topicManual || 'Not Available' }}
          </div>
          <mat-form-field
            *ngIf="!isGitHubAppEntry"
            color="accent"
            appearance="outline"
            class="w-100"
            matTooltip="Edit the manual topic for this {{ entryTypeMetadata.term }}"
          >
            <input
              matInput
              [(ngModel)]="editedTopicManual"
              [disabled]="isGitHubAppEntry"
              placeholder="Short description of the {{ entryTypeMetadata.term }}"
              data-cy="topicInput"
            />
          </mat-form-field>
        </mat-radio-button>
      </mat-card>
      <mat-card *ngIf="!isHostedEntry">
        <mat-radio-button [value]="TopicSelectionEnum.AUTOMATIC" class="w-100" [disabled]="!entry.topicAutomatic">
          <div>
            <span class="bubble mr-2"><mat-icon class="mat-icon-sm">sync</mat-icon></span>
            <strong>Automatic</strong>
          </div>
          <div class="size-small gray-caption">Retrieved automatically from the GitHub repository description.</div>
          <div [class]="entry.topicAutomatic ? '' : 'gray-caption'">
            {{ entry.topicAutomatic }}
          </div>
        </mat-radio-button>
      </mat-card>
      <mat-card>
        <mat-radio-button [value]="TopicSelectionEnum.AI" data-cy="topic-ai-selection-button">
          <div>
            <span class="bubble mr-2"><img class="site-icons-small" src="../../../assets/svg/ai-icon.svg" alt="AI generation icon" /></span>
            <strong>AI</strong>
          </div>
          <div class="size-small gray-caption">Generated by AI using the content of your {{ entryTypeMetadata.term }}.</div>
          <div [class]="entry.topicAI ? '' : 'gray-caption'">{{ entry.topicAI || 'Not Available' }}</div>
        </mat-radio-button>
      </mat-card>
    </mat-radio-group>
  </div>
</mat-dialog-content>
<div mat-dialog-actions class="pull-right">
  <button mat-button mat-dialog-close class="secondary-1" data-cy="topicCancelButton" cdkFocusInitial>Cancel</button>
  <button mat-raised-button mat-dialog-close (click)="saveTopic()" data-cy="topicSaveButton" class="accent-1-dark-btn mat-elevation-z">
    Save
  </button>
</div>
