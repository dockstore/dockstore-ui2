<!--
  ~    Copyright 2017 OICR
  ~
  ~    Licensed under the Apache License, Version 2.0 (the "License");
  ~    you may not use this file except in compliance with the License.
  ~    You may obtain a copy of the License at
  ~
  ~        http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~    Unless required by applicable law or agreed to in writing, software
  ~    distributed under the License is distributed on an "AS IS" BASIS,
  ~    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~    See the License for the specific language governing permissions and
  ~    limitations under the License.
  -->
<h4 mat-dialog-title>
  Advanced Search
  <span>
    <button type="button" class="close" aria-label="Close" tabindex="-1" (click)="closeDialog()">
      <span aria-hidden="true">&times;</span>
    </button>
  </span>
</h4>
<div mat-dialog-content>
  <div mat-dialog-actions class="form-horizontal dialog-actions mb-0">
    Find tools and workflows with
    <span *ngIf="searchMode === 'description'"> a </span>
    <mat-form-field>
      <mat-label class="dropdown-display"> {{ searchMode }} </mat-label>
      <mat-select data-cy="dropdown">
        <a *ngIf="searchMode !== 'description'">
          <mat-option data-cy="desc_select" class="dropdown-item" (click)="switchSearchMode('description')">description</mat-option>
        </a>
        <a *ngIf="searchMode !== 'files'">
          <mat-option data-cy="file_select" class="dropdown-item" (click)="switchSearchMode('files')">files</mat-option>
        </a>
      </mat-select>
    </mat-form-field>
    that
    <span *ngIf="searchMode === 'description'"> has </span>
    <span *ngIf="searchMode === 'files'"> have </span>
    ...
    <div class="form-group form-group-sm">
      <label class="col-sm-4 col-md-4 col-lg-4 control-label">
        All these words:
      </label>
      <div class="col-sm-8 col-md-8 col-lg-8">
        <input
          data-cy="ANDSplitFilter"
          [(ngModel)]="ANDSplitFilter"
          type="text"
          class="form-control"
          name="reference"
          matTooltip="Words that must appear"
          placeholder="e.g. bcbio"
        />
      </div>
    </div>
    <div class="form-group form-group-sm">
      <label class="col-sm-4 col-md-4 col-lg-4 control-label">
        The exact word or phrase:
      </label>
      <div class="col-sm-8 col-md-8 col-lg-8">
        <input
          data-cy="ANDNoSplitFilter"
          [(ngModel)]="ANDNoSplitFilter"
          type="text"
          class="form-control"
          name="reference"
          matTooltip="Phrase that must appear"
          placeholder="e.g. cgp"
        />
      </div>
    </div>
    <div class="form-group form-group-sm">
      <label class="col-sm-4 col-md-4 col-lg-4 control-label">
        Any of these words:
      </label>
      <div class="col-sm-8 col-md-8 col-lg-8">
        <input
          data-cy="ORFilter"
          [(ngModel)]="ORFilter"
          type="text"
          class="form-control"
          name="reference"
          matTooltip="At least one of these words must appear"
          placeholder="e.g. wxs"
        />
      </div>
    </div>
    <div class="form-group form-group-sm">
      <label class="col-sm-4 col-md-4 col-lg-4 control-label">
        None of these words:
      </label>
      <div class="col-sm-8 col-md-8 col-lg-8">
        <input
          data-cy="NOTFilter"
          [(ngModel)]="NOTFilter"
          type="text"
          class="form-control"
          name="reference"
          matTooltip="These words must not appear"
          placeholder="e.g. wgs"
        />
      </div>
    </div>
    <div class="btn-group btn-group-justified">
      <div class="btn-group">
        <button data-cy="clear-advanced-search" type="button" (click)="clearAll()" class="btn btn-secondary btn-sm">Clear All</button>
      </div>
      <div class="btn-group">
        <button data-cy="confirm-search" type="button" (click)="advancedSearch()" class="btn btn-primary btn-sm">Advanced Search</button>
      </div>
    </div>
  </div>
</div>
