<mat-card class="h-100 entry-boxes">
  <div id="header-bar" fxLayout="row" fxLayoutGap="5px" class="mat-card-header-separate">
    <div id="workflow-number" fxLayout="row">
      <mat-card-header fxLayout="row">
        <mat-card-title>{{ entryType }}s</mat-card-title>
        <span class="bubble">{{ listOfEntries.length }}</span>
      </mat-card-header>
    </div>
    <button
      mat-button
      class="private-btn small-btn-structure ml-3 mb-3"
      id="register{{ entryType }}Button"
      matTooltip="Register {{ entryType }}"
      matTooltipPosition="after"
      (click)="showRegisterEntryModal()"
    >
      <img src="../../../assets/svg/icons-plus.svg" alt="Register a {{ entryType }}" class="pr-2 pb-1" />
      Register a {{ entryType }}
    </button>
  </div>
  <mat-divider></mat-divider>
  <app-loading [loading]="isLoading" [retainContent]="true" class="h-100"></app-loading>
  <mat-card-content class="p-3 entries-container">
    <div *ngIf="(listOfEntries && listOfEntries.length !== 0) || isLoading; else noEntries">
      <mat-form-field appearance="outline" class="search-form-field w-100">
        <input matInput [(ngModel)]="filterText" (keyup)="onTextChange($event)" placeholder="Find {{ entryType }}s..." />
      </mat-form-field>
      <span class="weight-bold">Recent Activity</span>
      <div *ngFor="let entry of listOfEntries" fxLayout="row" class="list-items w-100">
        <a class="no-wrap" [routerLink]="allEntriesLink + entry.path">
          {{ entry.prettyPath }}
        </a>
        <div class="date">{{ entry.lastUpdateDate | date: 'MMM d, yyyy' }}</div>
      </div>
      <a class="weight-bold" [routerLink]="allEntriesLink">
        All {{ entryType }}s<mat-icon class="mt-1">keyboard_double_arrow_right</mat-icon>
      </a>
    </div>
    <ng-template #noEntries>
      <div *ngIf="!isLoading" fxLayout="column" class="h-100 no-entries">
        <img *ngIf="entryType === 'Workflow'" src="../assets/svg/workflow-circle.svg" alt="my workflows" class="entry-logo mb-4" />
        <img *ngIf="entryType === 'Tool'" src="../assets/svg/tool-circle.svg" alt="my tools" class="entry-logo mb-4" />
        <img *ngIf="entryType === 'Service'" src="../assets/svg/service-circle.svg" alt="my services" class="entry-logo mb-4" />
        <span>You have not registered any {{ entryTypeLowerCase }}s.</span>
        <div class="size-small">
          <span>Use the</span>
          <button
            mat-button
            class="txt-button"
            id="register{{ entryType }}Button"
            matTooltip="Register {{ entryType }}"
            matTooltipPosition="after"
            (click)="showRegisterEntryModal()"
          >
            {{ entryTypeLowerCase }} registration wizard
          </button>
          <span>to register a {{ entryTypeLowerCase }}.</span>
        </div>
        <a class="size-small" target="_blank" rel="noopener noreferrer" [href]="helpLink">Learn more about {{ entryTypeLowerCase }}s. </a>
      </div>
    </ng-template>
  </mat-card-content>
</mat-card>
