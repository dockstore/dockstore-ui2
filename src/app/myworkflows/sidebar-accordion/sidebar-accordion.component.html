<mat-accordion>
  <mat-expansion-panel *ngFor="let orgObj of groupEntriesObject" [expanded]="orgObj?.isFirstOpen">
    <mat-expansion-panel-header>
      <mat-panel-title class="org-accordion-header">
          {{orgObj?.sourceControl + '/' + orgObj?.organization}}
      </mat-panel-title>
    </mat-expansion-panel-header>

    <mat-tab-group mat-stretch-tabs [selectedIndex]="orgObj.activeTab === 'published' ? 0 : 1">
      <mat-tab label="Published">
      <mat-list class="org-accordion-list">
          <mat-list-item *ngFor="let workflowObj of orgObj?.published" [ngClass]="{selected: (workflowId$ | async) === workflowObj?.id}">
            <a [ngClass]="{selected: (workflowId$ | async) === workflowObj?.id}" class="no-wrap" title="{{workflowObj?.repository + (workflowObj?.workflowName ? '/' + workflowObj?.workflowName : '')}}" [routerLink]="'/my-workflows/' + workflowObj.full_workflow_path">
              {{workflowObj?.repository + (workflowObj?.workflowName ? '/' + workflowObj?.workflowName : '')}}
            </a>
          </mat-list-item>
          <mat-list-item *ngIf="!orgObj || orgObj?.published.length === 0">
            <p class="text-center">No published workflows.</p>
          </mat-list-item>
        </mat-list>
      </mat-tab>
      <mat-tab label="Unpublished">
        <mat-list class="org-accordion-list" >
          <mat-list-item *ngFor="let workflowObj of orgObj?.unpublished" [ngClass]="{selected: (workflowId$ | async) === workflowObj?.id}">
            <a class="no-wrap" title="{{workflowObj?.repository + (workflowObj?.workflowName ? '/' + workflowObj?.workflowName : '')}}" [routerLink]="'/my-workflows/' + workflowObj.full_workflow_path">
              {{workflowObj?.repository + (workflowObj?.workflowName ? '/' + workflowObj?.workflowName : '')}}
            </a>
          </mat-list-item>
          <mat-list-item *ngIf="!orgObj || orgObj?.unpublished.length === 0">
            <p class="text-center">No unpublished workflows.</p>
          </mat-list-item>
        </mat-list>
      </mat-tab>
    </mat-tab-group>
    <mat-action-row>
      <span *ngIf="!orgObj?.sourceControl.startsWith('dockstore.org')">
        <app-refresh-workflow-organization [organization]="orgObj?.organization"></app-refresh-workflow-organization>
      </span>
      <button mat-mini-fab color="accent" class="add-entry-button" matTooltip="Add new workflow" [matTooltipShowDelay]="1000" [matTooltipPosition]="'after'" type="button" (click)="setRegisterEntryModalInfo(orgObj?.organization + '/new_workflow'); showRegisterEntryModal()" [disabled]="refreshMessage !== null && refreshMessage !== undefined">
        <mat-icon>add</mat-icon>
      </button>
    </mat-action-row>
  </mat-expansion-panel>
</mat-accordion>
