<!--
  ~    Copyright 2019 OICR
  ~
  ~    Licensed under the Apache License, Version 2.0 (the "License");
  ~    you may not use this file except in compliance with the License.
  ~    You may obtain a copy of the License at
  ~
  ~        http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~    Unless required by applicable law or agreed to in writing, software
  ~    distributed under the License is distributed on an "AS IS" BASIS,
  ~    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~    See the License for the specific language governing permissions and
  ~    limitations under the License.
  -->

<div class="header">
  <div class="container">
    <div fxLayout="column wrap" fxLayoutGap="50px" fxLayoutAlign="space-around" class="top-section">
      <div class="text-center">
        <h1 class="title">Create, Share, Use</h1>
        <h2 class="title caption">Docker Tools and Workflows for the Sciences</h2>
        <button *ngIf="!(user$ | async); else loggedIn" mat-flat-button color="accent" routerLink="/login">
          Create an account
        </button>

        <ng-template #loggedIn>
          <button mat-flat-button color="accent" routerLink="/accounts">
            Welcome {{ (user$ | async).username }}
          </button>
        </ng-template>

        <button mat-button routerLink="/search" class="underlined-link">
          Browse tools and workflows
        </button>

        <div class="search-holder">
          <input id="searchBar" #search type="text" placeholder="Search..." class="fully-rounded landing-search"
          (keyup.enter)="goToSearch(search.value)">
        </div>
      </div>

      <div fxLayout="column wrap" fxLayoutAlign="center center" fxLayoutGap="20px">
        <h3 class="search-title">New to Dockstore? Start here</h3>
        <div fxLayout="row wrap" fxLayoutAlign="center center" fxLayoutGap="20px" class="pb-5">
          <a mat-raised-button href="#developerIntroduction" class="button-link">Developers</a>
          <a mat-raised-button href="#scientistIntroduction" class="button-link">Scientists</a>
        </div>

        <!-- Left the boat and truck here in case we want them back -->
        <!-- <div fxLayout="row wrap" fxLayoutAlign="center" fxLayoutGap="20px">
          <img fxFlexAlign="end" src="../assets/images/dockstore/ship.png">
          <img fxFlexAlign="end" src="../assets/images/dockstore/truck.png">
        </div> -->

      </div>
    </div>
  </div>
</div>

<div class="header-lower">
  <img class="blue-rectangle" src="../assets/images/dockstore/rectangle.png">

  <div fxFlex fxLayout="column" fxLayoutAlign="center center">
    <a class='btn youtube' role="button" (click)="openYoutube()">
      <div>
        <mat-icon>play_circle_outline</mat-icon>
        <span>&nbsp;Video Overview</span>
      </div>
    </a>
  </div>
</div>

<div id="developerIntroduction" class="container">
  <h2 class="text-center">Developers</h2>
  <p class="lead text-center">
    Make your tools more accessible to the scientific community.
  </p>
  <div fxLayout="row wrap" fxLayoutGap="30px" fxLayoutAlign="center center" class="developer-holder flex-column-on-mobile">
    <div fxFlex>
      <div fxLayout="column">
        <mat-icon fxFlexAlign="center" style="font-size: 50px; height: 50px">account_balance</mat-icon>
        <h3 class="text-center">Reproducible environment</h3>
        <p>Tool environment is described by Docker and stored on <a href="https://quay.io/" target="_blank" rel="noopener noreferrer">Quay.io</a> or <a href="https://hub.docker.com/" target="_blank" rel="noopener noreferrer">DockerHub</a>.</p>
      </div>
    </div>
    <div fxFlex>
      <div fxLayout="column">
        <mat-icon fxFlexAlign="center" style="font-size: 50px; height: 50px">description</mat-icon>
        <h3 class="text-center">Describe tools and workflows</h3>
        <p>Programs are described with <a href="https://www.commonwl.org/" target="_blank" rel="noopener noreferrer">CWL</a>, <a href="http://openwdl.org/" target="_blank" rel="noopener noreferrer">WDL</a> or <a href="https://www.nextflow.io/" target="_blank" rel="noopener noreferrer">Nextflow</a> and stored on <a href="https://github.com/" target="_blank" rel="noopener noreferrer">GitHub</a>, <a href="https://bitbucket.org/" target="_blank" rel="noopener noreferrer">Bitbucket</a>, or <a href="https://www.gitlab.com" target="_blank" rel="noopener noreferrer">GitLab</a>.</p>
      </div>
    </div>
    <div fxFlex>
      <div fxLayout="column">
        <mat-icon fxFlexAlign="center" style="font-size: 50px; height: 50px">cloud</mat-icon>
        <h3 class="text-center">Cloud launch</h3>
        <p>Users can launch tools and workflows in a variety of cloud platforms.</p>
      </div>
    </div>
  </div>
</div>

<div class="container stripe-holder">
  <div fxFlex fxLayout="column" fxLayoutGap="20px">
    <h3 class="text-center">Share your tools now</h3>

    <div fxLayout="row wrap" fxLayoutAlign="center center" fxLayoutGap="20px">
      <a mat-stroked-button href="https://docs.dockstore.org/docs/prereqs" target="_blank" rel="noopener noreferrer">
        Getting Started Guide
      </a>
      <button mat-stroked-button routerLink="/organizations">
        Discover Organizations
      </button>
      <button mat-stroked-button routerLink="/search">
        Discover Tools and Workflows
      </button>
    </div>
  </div>
</div>

<div id="scientistIntroduction" class="container">
  <h2 class="text-center">Scientists</h2>
  <p class="lead text-center">
    Discover and launch scientific tools and workflows in the cloud.
  </p>
  <div fxLayout="row wrap" fxLayoutGap="20px" fxLayoutAlign="center center" class="m-3 hidden-on-mobile" style="min-height: 400px">
    <div fxFlex class="text-center">
      <img src="../assets/images/dockstore/scientist-flow.png">
    </div>
  </div>

  <div class="text-center">
    <p>
      Or, use the Dockstore CLI to run tools and workflows locally.
    </p>
    <button mat-stroked-button color="accent" routerLink="/quick-start">
      Setup CLI
    </button>
  </div>
</div>

<div class="container stripe-holder">
  <div fxFlex fxLayout="column" fxLayoutGap="20px">
    <h3 class="text-center">Start using tools now</h3>

    <div fxLayout="row wrap" fxLayoutAlign="center center" fxLayoutGap="20px">
      <a mat-stroked-button href="https://docs.dockstore.org/docs/user-tutorials" target="_blank" rel="noopener noreferrer">
        Getting Started Guide
      </a>
      <button mat-stroked-button routerLink="/organizations">
        Discover Organizations
      </button>
      <button mat-stroked-button routerLink="/search">
        Discover Tools and Workflows
      </button>
    </div>
  </div>
</div>

<div class="container">
  <h2 class="text-center">Highlighted Features</h2>
  <div fxLayout="row" fxLayoutGap="20px">
    <div fxFlex fxLayout="column" fxLayoutGap="30px" class="m-3">
      <div fxLayout="row wrap" fxLayoutGap="20px" class="m-3">
        <div fxFlex>
          <h3>Remote Tools and Workflows</h3>
          <p>
            Don't worry about migrating your documents. Dockstore references docker images hosted on Quay.io and DockerHub,
            allowing for quick setup of existing docker images. Descriptor files can be retrieved from GitHub, Bitbucket and GitLab.
          </p>
        </div>
      </div>

      <div fxLayout="row wrap" fxLayoutGap="20px" class="m-3">
        <div fxFlex>
          <h3>Hosted Tools and Workflows</h3>
          <p>
            Have your docker image registered but don't want to use source control? Store your files directly on Dockstore.
            An in browser editor with syntax highlighting and basic validation is available.
          </p>
        </div>
      </div>

      <div fxLayout="row wrap" fxLayoutGap="20px" class="m-3">
        <div fxFlex>
          <h3>Organizations and Collections</h3>
          <p>
            Create organization landing pages for your company, start-up, working group, lab, or university where you can create collections of related tools and workflows to share.
          </p>
        </div>
      </div>

      <div fxLayout="row wrap" fxLayoutGap="20px" class="m-3">
        <div fxFlex>
          <h3>Launch in the Cloud	</h3>
          <p>
            Take advantage of the cloud to launch your workflows. A growing list of cloud platforms are available*.
          </p>
          <p>
            *Requires account on platform
          </p>
        </div>
      </div>
    </div>

    <div fxFlex fxLayout="column" fxLayoutGap="30px" class="m-3 hidden-on-mobile" fxLayoutAlign="center center">
      <img src="../assets/images/dockstore/graph-shadow.png">
    </div>
  </div>

</div>

<div class="container stripe-holder">
  <div fxFlex fxLayout="column" fxLayoutGap="20px">
    <h3 class="text-center">Join the discussion</h3>

    <div fxLayout="row wrap" fxLayoutAlign="center center">
      <a mat-stroked-button href="https://discuss.dockstore.org" target="_blank" rel="noopener noreferrer" class="mr-2">
        <mat-icon>forum</mat-icon> Discourse
      </a>
    </div>
  </div>
</div>
